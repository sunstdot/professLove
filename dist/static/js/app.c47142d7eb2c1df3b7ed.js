webpackJsonp([1],{"+yog":function(t,e){},"0FRX":function(t,e,s){"use strict";var o=new Neb;o.setRequest(new HttpRequest("https://testnet.nebulas.io"));e.savePromise=function(t,e,s,a){(function(t,e){return new Promise(function(s,o){var a=new Account;a.fromKey(t,e);var i=a.getAddressString();console.log("导入账户成功，地址为："+i),s(a)})})(t,e).then(function(t){return function(t,e,s,a){return new Promise(function(i,n){o.api.getAccountState(t.getAddressString()).then(function(o){var n=parseInt(o.nonce)+1,l=new Transaction({chainID:1001,from:t,to:e,value:0,nonce:n,gasPrice:1e6,gasLimit:1e5,contract:{function:s,args:JSON.stringify(a)}});l.signTransaction(),console.log(JSON.stringify(a)),console.log("正在生成合约调用 from:"+t.getAddressString()+" 调用方法:"+s),i(l.toProtoString())}).catch(function(t){console.log(t)})})}(t,"n1rTUeonxeRCGGRHPN6mvWsd4pVsWfSNMaX","save",s)}).then(function(t){return function(t,e){return new Promise(function(s,a){o.api.sendRawTransaction(t).then(function(t){var s=(t=t.result||t).txhash;console.log("交易提交成功，txhash:"+s),e("success")}).catch(function(t){console.log(t)})})}(t,a)})},e.searchPromise=function(t,e){!function(t,e,s,a,i){o.api.call({chainID:1001,from:t,to:e,value:0,nonce:0,gasPrice:1e6,gasLimit:2e6,contract:{function:s,args:JSON.stringify(a)}}).then(function(t){console.log(t),i(t)}).catch(function(t){console.log(t)})}(t,"n1rTUeonxeRCGGRHPN6mvWsd4pVsWfSNMaX","search",[t],e)}},"5PHw":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},a,!1,function(t){s("+yog")},null,null).exports,n=s("/ocq"),l=s("j9g7"),c=s.n(l),r=s("PKY1"),d=s.n(r);const h=["same-origin","no-cors","cors"],p=t=>{const e=encodeURIComponent;return Object.keys(t).sort().map(s=>e(s)+"="+e(t[s])).join("&")};async function u(t,e={}){let s,o=(e.method||"GET").toUpperCase(),a=e.mod||h[2],i=e.contentType||"",n=e.dataType||"",l=!1===e.credentials?"":"include",r=e.params||{},u=p(r),f={method:o,mode:a,timeout:e.timeout};f.headers="json"===i?{"Content-type":"application/json"}:"text"===i?{"Content-type":"text/plain"}:"multipart"===i?{"Content-type":"multipart/form-data"}:{"Content-type":"application/x-www-form-urlencoded"},l&&(f.credentials="no-cors"===a?"same-origin":l),"GET"===o?t=u?t+"?"+u:t:f.body=u,"GET"===o&&n&&"jsonp"===n?(s=d.a,e.callback&&(f.jsonpCallbackFunction=e.callback)):s=c.a;const w=await s(t,f);let g;if(w.ok)return function(t,e={needValidation:!0,removeProtocol:!0},s){!1!==e.needValidation&&m.indexOf(t.code)<0&&v(s,t);return t}(g="text"===i?await w.text():await w.json(),e.interceptor,t);"opaque"!==w.type&&v(t,"返回出错！")}const m=["A00000","A00004"];function v(t,e){throw console.error(`【接口出错】请检查接口返回的数据是否有code字段，且code值为${m.join(",")}。如果不需要验证code字段，请添加needValidation: false，如$http(url, {params, interceptor: {needValidation: false}}).请求失败的url: ${t}`),new Error(e)}let f;var w={name:"lookLover",data:()=>({items:["path1","path2"],selctAllMode:!1,checkGroup:[],searchValue:"",showModal:!1,selctAllIPMode:!0,checkIPGroup:[],popupMsg:"",cmdresult:[]}),mounted(){this.fetchData().then(t=>{f=t.map(t=>{let e=t.indexOf(":");return e<0?t:t.slice(0,e)}),this.items=f,console.log(t)}),this.checkIPGroup=this.ipitems},methods:{checkChange(){console.log(this.items)},fetchData:async()=>(await u("http://pcw-api.qiyi.domain/allpath",{dataType:"jsonp"})).data,async purgeCache(){if(0===this.checkGroup.length)return this.popupMsg="请选择要清除的路径",void(this.showModal=!0);if(0===this.checkIPGroup.length)return this.popupMsg="请选择要清除的机器",void(this.showModal=!0);if(this.checkGroup.length>3)return this.popupMsg="缓存清除路径不能超过三个!",void(this.showModal=!0);let t=this.checkGroup.join(","),e=this.checkIPGroup.join(",");console.log(t);await u("http://pcw-api.qiyi.domain/purgepath",{dataType:"jsonp",params:{path:t,iplist:e}})}},watch:{selctAllMode(){this.selctAllMode?this.checkGroup=this.items:this.checkGroup=[]},selctAllIPMode(){this.selctAllIPMode?this.checkIPGroup=this.ipitems:this.checkIPGroup=[]},checkGroup(){console.log(this.checkGroup)},searchValue(){this.searchValue.length>0?this.items=f.filter(t=>t.indexOf(this.searchValue)>0):this.items=f}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[t._m(0),t._v(" "),t.showModal?s("modal",{on:{close:function(e){t.showModal=!1}}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[s("div",[s("div",{staticStyle:{color:"#CD5C5C","font-size":"18px","font-weight":"700"},domProps:{innerHTML:t._s(t.popupMsg)}})]),t._v(" "),s("Button",{staticClass:"btn modalBtn",attrs:{type:"button"},on:{click:function(e){t.showModal=!1}}},[t._v("OK")])],1)])])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"block1"},[e("span",[this._v("lookLover")])])}]};var C=s("VU/8")(w,g,!1,function(t){s("5PHw")},null,null).exports,_=s("0FRX"),k={name:"professlover",data:()=>({showModal:!1,showModal1:!1,passport:"",password:"",loadtext:"请导入钱包",isloaded:!1,showModal2:!1,searchWord:"",lettertext:""}),mounted(){},methods:{showLetter(){this.showModal=!0},closeLetter(){this.showModal=!1},showXinfeng(){this.showModal=!1,this.showModal1=!0},dosearch(){if(!this.searchWord)return;let t=this;Object(_.searchPromise)(this.searchWord,e=>{console.log(e+"========"),this.showModal=!0,t.lettertext=JSON.parse(e.result).content})},sendmail(){if(console.log("======"),!this.password||!this.passport)return;let t=this;Object(_.savePromise)(JSON.parse(this.passport),this.password,["sst","guoliao","hello fuck world!"],function(e){console.log(e),e&&(t.showModal1=!1,t.showModal2=!0)})},previewFiles(t){console.log("66666");let e=t.target.files[0],s=new FileReader;s.onloadend=(t=>{this.passport=t.target.result}),this.loadtext=e.name,this.isloaded=!0,s.readAsText(e)},closeXinfeng(){this.showModal1=!1}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"main"},[t._m(0),t._v(" "),s("section",{staticClass:"section"},[t._m(1),t._v(" "),s("div",{staticClass:"mainsearch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWord,expression:"searchWord"}],staticClass:"maininput inputparent",attrs:{placeholder:"输入告白ID，查询你的爱"},domProps:{value:t.searchWord},on:{input:function(e){e.target.composing||(t.searchWord=e.target.value)}}}),s("div",{staticClass:"search",on:{click:t.dosearch}})]),t._v(" "),s("div",{staticClass:"loveBtn",on:{click:t.showLetter}})]),t._v(" "),t.showModal?s("modal",{on:{close:function(e){t.showModal=!1}}},[s("div",{staticClass:"modal-mask"},[s("div",{staticClass:"modal-wrapper"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"close",on:{click:t.closeLetter}}),t._v(" "),s("div",{staticClass:"lettertext"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lettertext,expression:"lettertext"}],staticClass:"textarea1",domProps:{value:t.lettertext},on:{input:function(e){e.target.composing||(t.lettertext=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"send",on:{click:t.showXinfeng}})])])])]):t._e(),t._v(" "),t.showModal1?s("modal",{on:{close:function(e){t.showModal1=!1}}},[s("div",{staticClass:"modal-mask1"},[s("div",{staticClass:"modal-wrapper1"},[s("div",{staticClass:"modal-container1"},[s("div",{staticClass:"close1",on:{click:t.closeXinfeng}}),t._v(" "),s("span",{staticClass:"inputtext"},[t._v(t._s(t.loadtext))]),t.isloaded?s("div",{staticClass:"isloaded"}):t._e(),t._v(" "),s("input",{ref:"myFiles",staticClass:"accountfile fileparent",attrs:{type:"file",id:"file"},on:{change:t.previewFiles}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"accountpwd",attrs:{placeholder:"输入密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"sendmail",on:{click:t.sendmail}},[t._v("邮寄")])])])])]):t._e(),t._v(" "),t.showModal2?s("modal",{on:{close:function(e){t.showModal2=!1}}},[s("div",{staticClass:"modal-mask1"},[s("div",{staticClass:"modal-wrapper1"},[s("div",{staticClass:"modal-container2"},[t._v("\n                   发送成功！\n                ")])])])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"logo"}),this._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"title1"},[e("a",{staticClass:"atext",attrs:{href:"#"}},[this._v(" 首页")])]),this._v(" "),e("div",{staticClass:"title1"},[e("a",{staticClass:"btext",attrs:{href:"/#/mylover"}},[this._v("我的告白")])]),this._v(" "),e("div",{staticClass:"title2"},[e("a",{staticClass:"btext",attrs:{href:"/#/looklover"}},[this._v("我要告白")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"maintext"},[e("h1",{staticClass:"htext"},[this._v("在区块链上说出你的爱")]),this._v(" "),e("h1",{staticClass:"htext"},[this._v("让浪漫永远留存， 真情永不消失")])])}]};var M=s("VU/8")(k,x,!1,function(t){s("kR7D")},null,null).exports;o.a.use(n.a);var P=new n.a({routes:[{path:"/",name:"Index",component:M},{path:"/looklover",name:"looklover",component:C}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:P,components:{App:i},template:"<App/>"})},kR7D:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c47142d7eb2c1df3b7ed.js.map